import{e as C,u as _,f as k,g as L,h as e,c,a as i,d as y,t as v,o as a,i as S}from"./index-DUHHapzL.js";import{C as x}from"./ContactForm-Dp4_wKBZ.js";const B={key:0},D={key:1},E={key:2,class:"page"},F={__name:"ContactEdit",props:{contactId:{type:String,required:!0}},setup(r){const o=r,u=S(),s=C(""),{data:h,isLoading:l,error:d}=_(o.contactId),p=k(),m=L();function f(t){p.mutate({id:o.contactId,updatedContact:t},{onSuccess:()=>{s.value="Liên hệ được cập nhật thành công."},onError:n=>{console.error("Lỗi khi cập nhật liên hệ:",n)}})}function g(){confirm("Bạn muốn xóa Liên hệ này?")&&m.mutate(o.contactId,{onSuccess:()=>{u.push({name:"contactbook"})},onError:t=>{console.error("Lỗi khi xóa liên hệ:",t)}})}return(t,n)=>e(l)?(a(),c("div",B,"Đang tải thông tin liên hệ...")):e(d)?(a(),c("div",D,"Lỗi khi tải thông tin liên hệ.")):(a(),c("div",E,[n[0]||(n[0]=i("h4",null,"Hiệu chỉnh Liên hệ",-1)),y(x,{contact:e(h),"onSubmit:contact":f,"onDelete:contact":g},null,8,["contact"]),i("p",null,v(s.value),1)]))}};export{F as default};
